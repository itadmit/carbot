/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/supplier/offers/route";
exports.ids = ["app/api/supplier/offers/route"];
exports.modules = {

/***/ "(rsc)/./app/api/supplier/offers/route.ts":
/*!******************************************!*\
  !*** ./app/api/supplier/offers/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var _lib_notifications__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/notifications */ \"(rsc)/./lib/notifications.ts\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/ZodError.js\");\n\n\n\n\n\n\nconst offerItemSchema = zod__WEBPACK_IMPORTED_MODULE_5__.object({\n    requestItemId: zod__WEBPACK_IMPORTED_MODULE_5__.string(),\n    status: zod__WEBPACK_IMPORTED_MODULE_5__[\"enum\"]([\n        'NEW',\n        'USED',\n        'OEM',\n        'AFTERMARKET'\n    ]),\n    price: zod__WEBPACK_IMPORTED_MODULE_5__.number().positive(),\n    notes: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional()\n});\nconst createOfferSchema = zod__WEBPACK_IMPORTED_MODULE_5__.object({\n    requestId: zod__WEBPACK_IMPORTED_MODULE_5__.string(),\n    items: zod__WEBPACK_IMPORTED_MODULE_5__.array(offerItemSchema).min(1, '×—×™×™×‘ ×œ×›×œ×•×œ ×œ×¤×—×•×ª ×—×œ×§ ××—×“')\n});\nasync function POST(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: '×œ× ×ž×—×•×‘×¨'\n            }, {\n                status: 401\n            });\n        }\n        const user = session.user;\n        if (user.role !== 'SUPPLIER') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: '××™×Ÿ ×”×¨×©××”'\n            }, {\n                status: 403\n            });\n        }\n        if (!user.supplierId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: '×¡×¤×§ ×œ× × ×ž×¦×'\n            }, {\n                status: 404\n            });\n        }\n        const body = await request.json();\n        const data = createOfferSchema.parse(body);\n        // Calculate total price\n        const totalPrice = data.items.reduce((sum, item)=>sum + item.price, 0);\n        // Get request details\n        const requestData = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.request.findUnique({\n            where: {\n                id: data.requestId\n            },\n            include: {\n                vehicle: true,\n                garage: {\n                    include: {\n                        user: true\n                    }\n                },\n                items: true\n            }\n        });\n        if (!requestData) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: '×‘×§×©×” ×œ× × ×ž×¦××”'\n            }, {\n                status: 404\n            });\n        }\n        // Get supplier details\n        const supplier = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.supplier.findUnique({\n            where: {\n                id: user.supplierId\n            }\n        });\n        if (!supplier) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: '×¡×¤×§ ×œ× × ×ž×¦×'\n            }, {\n                status: 404\n            });\n        }\n        // Create offer\n        const offer = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.offer.create({\n            data: {\n                requestId: data.requestId,\n                supplierId: user.supplierId,\n                totalPrice,\n                status: 'NEW',\n                items: {\n                    create: data.items\n                }\n            },\n            include: {\n                items: {\n                    include: {\n                        requestItem: true\n                    }\n                }\n            }\n        });\n        // Update request status to HAS_OFFERS\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.request.update({\n            where: {\n                id: data.requestId\n            },\n            data: {\n                status: 'HAS_OFFERS'\n            }\n        });\n        // Send notification to garage\n        const vehicleInfo = requestData.vehicle ? {\n            make: requestData.vehicle.make,\n            model: requestData.vehicle.model,\n            year: requestData.vehicle.year || undefined\n        } : {\n            make: '×œ× ×™×“×•×¢',\n            model: ''\n        };\n        const parts = offer.items.map((item)=>item.requestItem.name);\n        await (0,_lib_notifications__WEBPACK_IMPORTED_MODULE_4__.notifyGarageNewOffer)(offer.id, data.requestId, requestData.garage.phone || requestData.garage.user.mobile, requestData.garage.userId, supplier.businessName, supplier.phone || user.mobile, vehicleInfo, parts, totalPrice);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: '×”×¦×¢×” × ×©×œ×—×” ×‘×”×¦×œ×—×”',\n            offer\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error('Create offer error:', error);\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_6__.ZodError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: '× ×ª×•× ×™× ×œ× ×ª×§×™× ×™×',\n                details: error.errors\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: '×©×’×™××” ×‘×™×¦×™×¨×ª ×”×¦×¢×”'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: '×œ× ×ž×—×•×‘×¨'\n            }, {\n                status: 401\n            });\n        }\n        const user = session.user;\n        if (user.role !== 'SUPPLIER') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: '××™×Ÿ ×”×¨×©××”'\n            }, {\n                status: 403\n            });\n        }\n        // Get all offers from this supplier\n        const offers = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.offer.findMany({\n            where: {\n                supplierId: user.supplierId\n            },\n            include: {\n                request: {\n                    include: {\n                        vehicle: true,\n                        garage: true,\n                        items: true\n                    }\n                },\n                items: {\n                    include: {\n                        requestItem: true\n                    }\n                }\n            },\n            orderBy: {\n                createdAt: 'desc'\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            offers\n        });\n    } catch (error) {\n        console.error('Get supplier offers error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: '×©×’×™××” ×‘×©×œ×™×¤×ª ×”×¦×¢×•×ª'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3N1cHBsaWVyL29mZmVycy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXVEO0FBQ1g7QUFDSjtBQUNIO0FBQ3FCO0FBQ25DO0FBRXZCLE1BQU1NLGtCQUFrQkQsdUNBQVEsQ0FBQztJQUMvQkcsZUFBZUgsdUNBQVE7SUFDdkJLLFFBQVFMLHdDQUFNLENBQUM7UUFBQztRQUFPO1FBQVE7UUFBTztLQUFjO0lBQ3BETyxPQUFPUCx1Q0FBUSxHQUFHUyxRQUFRO0lBQzFCQyxPQUFPVix1Q0FBUSxHQUFHVyxRQUFRO0FBQzVCO0FBRUEsTUFBTUMsb0JBQW9CWix1Q0FBUSxDQUFDO0lBQ2pDYSxXQUFXYix1Q0FBUTtJQUNuQmMsT0FBT2Qsc0NBQU8sQ0FBQ0MsaUJBQWlCZSxHQUFHLENBQUMsR0FBRztBQUN6QztBQUVPLGVBQWVDLEtBQUtDLE9BQW9CO0lBQzdDLElBQUk7UUFDRixNQUFNQyxVQUFVLE1BQU12QiwyREFBZ0JBLENBQUNDLGtEQUFXQTtRQUVsRCxJQUFJLENBQUNzQixTQUFTO1lBQ1osT0FBT3hCLHFEQUFZQSxDQUFDeUIsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQVcsR0FBRztnQkFBRWhCLFFBQVE7WUFBSTtRQUNoRTtRQUVBLE1BQU1pQixPQUFPSCxRQUFRRyxJQUFJO1FBRXpCLElBQUlBLEtBQUtDLElBQUksS0FBSyxZQUFZO1lBQzVCLE9BQU81QixxREFBWUEsQ0FBQ3lCLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFZLEdBQUc7Z0JBQUVoQixRQUFRO1lBQUk7UUFDakU7UUFFQSxJQUFJLENBQUNpQixLQUFLRSxVQUFVLEVBQUU7WUFDcEIsT0FBTzdCLHFEQUFZQSxDQUFDeUIsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQWMsR0FBRztnQkFBRWhCLFFBQVE7WUFBSTtRQUNuRTtRQUVBLE1BQU1vQixPQUFPLE1BQU1QLFFBQVFFLElBQUk7UUFDL0IsTUFBTU0sT0FBT2Qsa0JBQWtCZSxLQUFLLENB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T0FBTztRQUFxQixHQUM5QjtZQUFFaEIsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YWRtaXRpbnRlcmFjdGl2ZS9jYXJib3RuZXh0L2FwcC9hcGkvc3VwcGxpZXIvb2ZmZXJzL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgnXG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJ0AvbGliL2F1dGgnXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9wcmlzbWEnXG5pbXBvcnQgeyBub3RpZnlHYXJhZ2VOZXdPZmZlciB9IGZyb20gJ0AvbGliL25vdGlmaWNhdGlvbnMnXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJ1xuXG5jb25zdCBvZmZlckl0ZW1TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHJlcXVlc3RJdGVtSWQ6IHouc3RyaW5nKCksXG4gIHN0YXR1czogei5lbnVtKFsnTkVXJywgJ1VTRUQnLCAnT0VNJywgJ0FGVEVSTUFSS0VUJ10pLFxuICBwcmljZTogei5udW1iZXIoKS5wb3NpdGl2ZSgpLFxuICBub3Rlczogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSlcblxuY29uc3QgY3JlYXRlT2ZmZXJTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHJlcXVlc3RJZDogei5zdHJpbmcoKSxcbiAgaXRlbXM6IHouYXJyYXkob2ZmZXJJdGVtU2NoZW1hKS5taW4oMSwgJ9eX15nXmdeRINec15vXnNeV15wg15zXpNeX15XXqiDXl9ec16cg15DXl9eTJyksXG59KVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKVxuXG4gICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ9ec15Ag157Xl9eV15HXqCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXIgPSBzZXNzaW9uLnVzZXIgYXMgYW55XG5cbiAgICBpZiAodXNlci5yb2xlICE9PSAnU1VQUExJRVInKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ9eQ15nXnyDXlNeo16nXkNeUJyB9LCB7IHN0YXR1czogNDAzIH0pXG4gICAgfVxuXG4gICAgaWYgKCF1c2VyLnN1cHBsaWVySWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAn16HXpNenINec15Ag16DXntem15AnIH0sIHsgc3RhdHVzOiA0MDQgfSlcbiAgICB9XG5cbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBjb25zdCBkYXRhID0gY3JlYXRlT2ZmZXJTY2hlbWEucGFyc2UoYm9keSlcblxuICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBwcmljZVxuICAgIGNvbnN0IHRvdGFsUHJpY2UgPSBkYXRhLml0ZW1zLnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBzdW0gKyBpdGVtLnByaWNlLCAwKVxuXG4gICAgLy8gR2V0IHJlcXVlc3QgZGV0YWlsc1xuICAgIGNvbnN0IHJlcXVlc3REYXRhID0gYXdhaXQgcHJpc21hLnJlcXVlc3QuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBpZDogZGF0YS5yZXF1ZXN0SWQgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgdmVoaWNsZTogdHJ1ZSxcbiAgICAgICAgZ2FyYWdlOiB7XG4gICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgdXNlcjogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBpdGVtczogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSlcblxuICAgIGlmICghcmVxdWVzdERhdGEpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAn15HXp9ep15Qg15zXkCDXoNee16bXkNeUJyB9LCB7IHN0YXR1czogNDA0IH0pXG4gICAgfVxuXG4gICAgLy8gR2V0IHN1cHBsaWVyIGRldGFpbHNcbiAgICBjb25zdCBzdXBwbGllciA9IGF3YWl0IHByaXNtYS5zdXBwbGllci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiB1c2VyLnN1cHBsaWVySWQgfSxcbiAgICB9KVxuXG4gICAgaWYgKCFzdXBwbGllcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICfXodek16cg15zXkCDXoNee16bXkCcgfSwgeyBzdGF0dXM6IDQwNCB9KVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBvZmZlclxuICAgIGNvbnN0IG9mZmVyID0gYXdhaXQgcHJpc21hLm9mZmVyLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsXG4gICAgICAgIHN1cHBsaWVySWQ6IHVzZXIuc3VwcGxpZXJJZCxcbiAgICAgICAgdG90YWxQcmljZSxcbiAgICAgICAgc3RhdHVzOiAnTkVXJyxcbiAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICBjcmVhdGU6IGRhdGEuaXRlbXMsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBpdGVtczoge1xuICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgIHJlcXVlc3RJdGVtOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICAvLyBVcGRhdGUgcmVxdWVzdCBzdGF0dXMgdG8gSEFTX09GRkVSU1xuICAgIGF3YWl0IHByaXNtYS5yZXF1ZXN0LnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBpZDogZGF0YS5yZXF1ZXN0SWQgfSxcbiAgICAgIGRhdGE6IHsgc3RhdHVzOiAnSEFTX09GRkVSUycgfSxcbiAgICB9KVxuXG4gICAgLy8gU2VuZCBub3RpZmljYXRpb24gdG8gZ2FyYWdlXG4gICAgY29uc3QgdmVoaWNsZUluZm8gPSByZXF1ZXN0RGF0YS52ZWhpY2xlXG4gICAgICA/IHtcbiAgICAgICAgICBtYWtlOiByZXF1ZXN0RGF0YS52ZWhpY2xlLm1ha2UsXG4gICAgICAgICAgbW9kZWw6IHJlcXVlc3REYXRhLnZlaGljbGUubW9kZWwsXG4gICAgICAgICAgeWVhcjogcmVxdWVzdERhdGEudmVoaWNsZS55ZWFyIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgfVxuICAgICAgOiB7IG1ha2U6ICfXnNeQINeZ15PXldeiJywgbW9kZWw6ICcnIH1cblxuICAgIGNvbnN0IHBhcnRzID0gb2ZmZXIuaXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLnJlcXVlc3RJdGVtLm5hbWUpXG5cbiAgICBhd2FpdCBub3RpZnlHYXJhZ2VOZXdPZmZlcihcbiAgICAgIG9mZmVyLmlkLFxuICAgICAgZGF0YS5yZXF1ZXN0SWQsXG4gICAgICByZXF1ZXN0RGF0YS5nYXJhZ2UucGhvbmUgfHwgcmVxdWVzdERhdGEuZ2FyYWdlLnVzZXIubW9iaWxlLFxuICAgICAgcmVxdWVzdERhdGEuZ2FyYWdlLnVzZXJJZCxcbiAgICAgIHN1cHBsaWVyLmJ1c2luZXNzTmFtZSxcbiAgICAgIHN1cHBsaWVyLnBob25lIHx8IHVzZXIubW9iaWxlLFxuICAgICAgdmVoaWNsZUluZm8sXG4gICAgICBwYXJ0cyxcbiAgICAgIHRvdGFsUHJpY2VcbiAgICApXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIG1lc3NhZ2U6ICfXlNem16LXlCDXoNep15zXl9eUINeR15TXptec15fXlCcsXG4gICAgICAgIG9mZmVyLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiAyMDEgfVxuICAgIClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDcmVhdGUgb2ZmZXIgZXJyb3I6JywgZXJyb3IpXG5cbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfXoNeq15XXoNeZ150g15zXkCDXqten15nXoNeZ150nLCBkZXRhaWxzOiBlcnJvci5lcnJvcnMgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ9ep15LXmdeQ15Qg15HXmdem15nXqNeqINeU16bXoteUJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucylcblxuICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICfXnNeQINee15fXldeR16gnIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyID0gc2Vzc2lvbi51c2VyIGFzIGFueVxuXG4gICAgaWYgKHVzZXIucm9sZSAhPT0gJ1NVUFBMSUVSJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICfXkNeZ158g15TXqNep15DXlCcgfSwgeyBzdGF0dXM6IDQwMyB9KVxuICAgIH1cblxuICAgIC8vIEdldCBhbGwgb2ZmZXJzIGZyb20gdGhpcyBzdXBwbGllclxuICAgIGNvbnN0IG9mZmVycyA9IGF3YWl0IHByaXNtYS5vZmZlci5maW5kTWFueSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBzdXBwbGllcklkOiB1c2VyLnN1cHBsaWVySWQsXG4gICAgICB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICByZXF1ZXN0OiB7XG4gICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgdmVoaWNsZTogdHJ1ZSxcbiAgICAgICAgICAgIGdhcmFnZTogdHJ1ZSxcbiAgICAgICAgICAgIGl0ZW1zOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgcmVxdWVzdEl0ZW06IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBvcmRlckJ5OiB7XG4gICAgICAgIGNyZWF0ZWRBdDogJ2Rlc2MnLFxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgb2ZmZXJzIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignR2V0IHN1cHBsaWVyIG9mZmVycyBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAn16nXkteZ15DXlCDXkdep15zXmdek16og15TXptei15XXqicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0U2VydmVyU2Vzc2lvbiIsImF1dGhPcHRpb25zIiwicHJpc21hIiwibm90aWZ5R2FyYWdlTmV3T2ZmZXIiLCJ6Iiwib2ZmZXJJdGVtU2NoZW1hIiwib2JqZWN0IiwicmVxdWVzdEl0ZW1JZCIsInN0cmluZyIsInN0YXR1cyIsImVudW0iLCJwcmljZSIsIm51bWJlciIsInBvc2l0aXZlIiwibm90ZXMiLCJvcHRpb25hbCIsImNyZWF0ZU9mZmVyU2NoZW1hIiwicmVxdWVzdElkIiwiaXRlbXMiLCJhcnJheSIsIm1pbiIsIlBPU1QiLCJyZXF1ZXN0Iiwic2Vzc2lvbiIsImpzb24iLCJlcnJvciIsInVzZXIiLCJyb2xlIiwic3VwcGxpZXJJZCIsImJvZHkiLCJkYXRhIiwicGFyc2UiLCJ0b3RhbFByaWNlIiwicmVkdWNlIiwic3VtIiwiaXRlbSIsInJlcXVlc3REYXRhIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaWQiLCJpbmNsdWRlIiwidmVoaWNsZSIsImdhcmFnZSIsInN1cHBsaWVyIiwib2ZmZXIiLCJjcmVhdGUiLCJyZXF1ZXN0SXRlbSIsInVwZGF0ZSIsInZlaGljbGVJbmZvIiwibWFrZSIsIm1vZGVsIiwieWVhciIsInVuZGVmaW5lZCIsInBhcnRzIiwibWFwIiwibmFtZSIsInBob25lIiwibW9iaWxlIiwidXNlcklkIiwiYnVzaW5lc3NOYW1lIiwibWVzc2FnZSIsImNvbnNvbGUiLCJab2RFcnJvciIsImRldGFpbHMiLCJlcnJvcnMiLCJHRVQiLCJvZmZlcnMiLCJmaW5kTWFueSIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/supplier/offers/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prisma */ \"(rsc)/./lib/prisma.ts\");\n/**\n * Authentication utilities\n */ \n\n\n/**\n * Hash a password\n */ async function hashPassword(password) {\n    return (0,bcryptjs__WEBPACK_IMPORTED_MODULE_0__.hash)(password, 12);\n}\n/**\n * Verify a password\n */ async function verifyPassword(password, hashedPassword) {\n    return (0,bcryptjs__WEBPACK_IMPORTED_MODULE_0__.compare)(password, hashedPassword);\n}\n/**\n * NextAuth configuration\n */ const authOptions = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            name: 'Credentials',\n            credentials: {\n                email: {\n                    label: 'Email',\n                    type: 'email'\n                },\n                password: {\n                    label: 'Password',\n                    type: 'password'\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    throw new Error('×× × ×”×–×Ÿ ××™×ž×™×™×œ ×•×¡×™×¡×ž×”');\n                }\n                const user = await _prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.user.findUnique({\n                    where: {\n                        email: credentials.email\n                    },\n                    include: {\n                        garage: true,\n                        supplier: true\n                    }\n                });\n                if (!user) {\n                    throw new Error('××™×ž×™×™×œ ××• ×¡×™×¡×ž×” ×©×’×•×™×™×');\n                }\n                const isValid = await verifyPassword(credentials.password, user.password);\n                if (!isValid) {\n                    throw new Error('××™×ž×™×™×œ ××• ×¡×™×¡×ž×” ×©×’×•×™×™×');\n                }\n                return {\n                    id: user.id,\n                    email: user.email,\n                    name: user.name,\n                    role: user.role,\n                    mobile: user.mobile,\n                    garageId: user.garage?.id,\n                    supplierId: user.supplier?.id\n                };\n            }\n        })\n    ],\n    callbacks: {\n        async jwt ({ token, user, trigger }) {\n            if (user) {\n                token.id = user.id;\n                token.role = user.role;\n                token.mobile = user.mobile;\n                token.garageId = user.garageId;\n                token.supplierId = user.supplierId;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (session.user && token) {\n                session.user.id = token.id;\n                session.user.role = token.role;\n                session.user.mobile = token.mobile;\n                session.user.garageId = token.garageId;\n                session.user.supplierId = token.supplierId;\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: '/login',\n        error: '/login'\n    },\n    session: {\n        strategy: 'jwt'\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7O0NBRUMsR0FFdUM7QUFHeUI7QUFDaEM7QUFHakM7O0NBRUMsR0FDTSxlQUFlSSxhQUFhQyxRQUFnQjtJQUNqRCxPQUFPTCw4Q0FBSUEsQ0FBQ0ssVUFBVTtBQUN4QjtBQUVBOztDQUVDLEdBQ00sZUFBZUMsZUFDcEJELFFBQWdCLEVBQ2hCRSxjQUFzQjtJQUV0QixPQUFPTixpREFBT0EsQ0FBQ0ksVUFBVUU7QUFDM0I7QUFFQTs7Q0FFQyxHQUNNLE1BQU1DLGNBQStCO0lBQzFDQyxXQUFXO1FBQ1RQLDJFQUFtQkEsQ0FBQztZQUNsQlEsTUFBTTtZQUNOQyxhQUFhO2dCQUNYQyxPQUFPO29CQUFFQyxPQUFPO29CQUFTQyxNQUFNO2dCQUFRO2dCQUN2Q1QsVUFBVTtvQkFBRVEsT0FBTztvQkFBWUMsTUFBTTtnQkFBVztZQUNsRDtZQUNBLE1BQU1DLFdBQVVKLFdBQVc7Z0JBQ3pCLElBQUksQ0FBQ0EsYUFBYUMsU0FBUyxDQUFDRCxhQUFhTixVQUFVO29CQUNqRCxNQUFNLElBQUlXLE1BQU07Z0JBQ2xCO2dCQUVBLE1BQU1DLE9BQU8sTUFBTWQsMkNBQU1BLENBQUNjLElBQUksQ0FBQ0MsVUFBVSxDQUFDO29CQUN4Q0MsT0FBTzt3QkFBRVAsT0FBT0QsWUFBWUMsS0FBSztvQkFBQztvQkFDbENRLFNBQVM7d0JBQ1BDLFFBQVE7d0JBQ1JDLFVBQVU7b0JBQ1o7Z0JBQ0Y7Z0JBRUEsSUFBSSxDQUFDTCxNQUFNO29CQUNULE1BQU0sSUFBSUQsTUFBTTtnQkFDbEI7Z0JBRUEsTUFBTU8sVUFBVSxNQUFNakIsZUFDcEJLLFlBQVlOLFFBQVEsRUFDcEJZLEtBQUtaLFFBQVE7Z0JBR2YsSUFBSSxDQUFDa0IsU0FBUztvQkFDWixNQUFNLElBQUlQLE1BQU07Z0JBQ2xCO2dCQUVBLE9BQU87b0JBQ0xRLElBQUlQLEtBQUtPLEVBQUU7b0JBQ1haLE9BQU9LLEtBQUtMLEtBQUs7b0JBQ2pCRixNQUFNTyxLQUFLUCxJQUFJO29CQUNmZSxNQUFNUixLQUFLUSxJQUFJO29CQUNmQyxRQUFRVCxLQUFLUyxNQUFNO29CQUNuQkMsVUFBVVYsS0FBS0ksTUFBTSxFQUFFRztvQkFDdkJJLFlBQVlYLEtBQUtLLFFBQVEsRUFBRUU7Z0JBQzdCO1lBQ0Y7UUFDRjtLQUNEO0lBQ0RLLFdBQVc7UUFDVCxNQUFNQyxLQUFJLEVBQUVDLEtBQUssRUFBRWQsSUFBSSxFQUFFZSxPQUFPLEVBQUU7WUFDaEMsSUFBSWYsTUFBTTtnQkFDUmMsTUFBTVAsRUFBRSxHQUFHUCxLQUFLTyxFQUFFO2dCQUNsQk8sTUFBTU4sSUFBSSxHQUFHUixLQUFLUSxJQUFJO2dCQUN0Qk0sTUFBTUwsTUFBTSxHQUFHVCxLQUFLUyxNQUFNO2dCQUMxQkssTUFBTUosUUFBUSxHQUFHLEtBQWNBLFFBQVE7Z0JBQ3ZDSSxNQUFNSCxVQUFVLEdBQUcsS0FBY0EsVUFBVTtZQUM3QztZQUNBLE9BQU9HO1FBQ1Q7UUFDQSxNQUFNRSxTQUFRLEVBQUVBLE9BQU8sRUFBRUYsS0FBSyxFQUFFO1lBQzlCLElBQUlFLFFBQVFoQixJQUFJLElBQUljLE9BQU87Z0JBQ3hCRSxRQUFRaEIsSUFBSSxDQUFTTyxFQUFFLEdBQUdPLE1BQU1QLEVBQUU7Z0JBQ2xDUyxRQUFRaEIsSUFBSSxDQUFTUSxJQUFJLEdBQUdNLE1BQU1OLElBQUk7Z0JBQ3RDUSxRQUFRaEIsSUFBSSxDQUFTUyxNQUFNLEdBQUdLLE1BQU1MLE1BQU07Z0JBQzFDTyxRQUFRaEIsSUFBSSxDQUFTVSxRQUFRLEdBQUdJLE1BQU1KLFFBQVE7Z0JBQzlDTSxRQUFRaEIsSUFBSSxDQUFTVyxVQUFVLEdBQUdHLE1BQU1ILFVBQVU7WUFDckQ7WUFDQSxPQUFPSztRQUNUO0lBQ0Y7SUFDQUMsT0FBTztRQUNMQyxRQUFRO1FBQ1JDLE9BQU87SUFDVDtJQUNBSCxTQUFTO1FBQ1BJLFVBQVU7SUFDWjtJQUNBQyxRQUFRQyxRQUFRQyxHQUFHLENBQUNDLGVBQWU7QUFDckMsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL3RhZG1pdGludGVyYWN0aXZlL2NhcmJvdG5leHQvbGliL2F1dGgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBdXRoZW50aWNhdGlvbiB1dGlsaXRpZXNcbiAqL1xuXG5pbXBvcnQgeyBoYXNoLCBjb21wYXJlIH0gZnJvbSAnYmNyeXB0anMnXG5pbXBvcnQgeyBOZXh0QXV0aE9wdGlvbnMsIFNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgnXG5pbXBvcnQgeyBKV1QgfSBmcm9tICduZXh0LWF1dGgvand0J1xuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFscydcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJy4vcHJpc21hJ1xuaW1wb3J0IHsgUm9sZSB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG4vKipcbiAqIEhhc2ggYSBwYXNzd29yZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFzaFBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gaGFzaChwYXNzd29yZCwgMTIpXG59XG5cbi8qKlxuICogVmVyaWZ5IGEgcGFzc3dvcmRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVBhc3N3b3JkKFxuICBwYXNzd29yZDogc3RyaW5nLFxuICBoYXNoZWRQYXNzd29yZDogc3RyaW5nXG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIGNvbXBhcmUocGFzc3dvcmQsIGhhc2hlZFBhc3N3b3JkKVxufVxuXG4vKipcbiAqIE5leHRBdXRoIGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gIHByb3ZpZGVyczogW1xuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuICAgICAgbmFtZTogJ0NyZWRlbnRpYWxzJyxcbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIGVtYWlsOiB7IGxhYmVsOiAnRW1haWwnLCB0eXBlOiAnZW1haWwnIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiAnUGFzc3dvcmQnLCB0eXBlOiAncGFzc3dvcmQnIH0sXG4gICAgICB9LFxuICAgICAgYXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8ucGFzc3dvcmQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9eQ16DXkCDXlNeW158g15DXmdee15nXmdecINeV16HXmdeh157XlCcpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsIH0sXG4gICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgZ2FyYWdlOiB0cnVlLFxuICAgICAgICAgICAgc3VwcGxpZXI6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9eQ15nXnteZ15nXnCDXkNeVINeh15nXodee15Qg16nXkteV15nXmdedJylcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCB2ZXJpZnlQYXNzd29yZChcbiAgICAgICAgICBjcmVkZW50aWFscy5wYXNzd29yZCxcbiAgICAgICAgICB1c2VyLnBhc3N3b3JkXG4gICAgICAgIClcblxuICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9eQ15nXnteZ15nXnCDXkNeVINeh15nXodee15Qg16nXkteV15nXmdedJylcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICAgICAgICBtb2JpbGU6IHVzZXIubW9iaWxlLFxuICAgICAgICAgIGdhcmFnZUlkOiB1c2VyLmdhcmFnZT8uaWQsXG4gICAgICAgICAgc3VwcGxpZXJJZDogdXNlci5zdXBwbGllcj8uaWQsXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSksXG4gIF0sXG4gIGNhbGxiYWNrczoge1xuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyLCB0cmlnZ2VyIH0pIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZFxuICAgICAgICB0b2tlbi5yb2xlID0gdXNlci5yb2xlIGFzIFJvbGVcbiAgICAgICAgdG9rZW4ubW9iaWxlID0gdXNlci5tb2JpbGUgYXMgc3RyaW5nXG4gICAgICAgIHRva2VuLmdhcmFnZUlkID0gKHVzZXIgYXMgYW55KS5nYXJhZ2VJZFxuICAgICAgICB0b2tlbi5zdXBwbGllcklkID0gKHVzZXIgYXMgYW55KS5zdXBwbGllcklkXG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW5cbiAgICB9LFxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XG4gICAgICBpZiAoc2Vzc2lvbi51c2VyICYmIHRva2VuKSB7XG4gICAgICAgIChzZXNzaW9uLnVzZXIgYXMgYW55KS5pZCA9IHRva2VuLmlkIGFzIHN0cmluZ1xuICAgICAgICAoc2Vzc2lvbi51c2VyIGFzIGFueSkucm9sZSA9IHRva2VuLnJvbGUgYXMgUm9sZVxuICAgICAgICAoc2Vzc2lvbi51c2VyIGFzIGFueSkubW9iaWxlID0gdG9rZW4ubW9iaWxlIGFzIHN0cmluZ1xuICAgICAgICAoc2Vzc2lvbi51c2VyIGFzIGFueSkuZ2FyYWdlSWQgPSB0b2tlbi5nYXJhZ2VJZCBhcyBzdHJpbmcgfCB1bmRlZmluZWRcbiAgICAgICAgKHNlc3Npb24udXNlciBhcyBhbnkpLnN1cHBsaWVySWQgPSB0b2tlbi5zdXBwbGllcklkIGFzIHN0cmluZyB8IHVuZGVmaW5lZFxuICAgICAgfVxuICAgICAgcmV0dXJuIHNlc3Npb25cbiAgICB9LFxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogJy9sb2dpbicsXG4gICAgZXJyb3I6ICcvbG9naW4nLFxuICB9LFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxuICB9LFxuICBzZWNyZXQ6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCxcbn1cblxuLyoqXG4gKiBFeHRlbmRlZCBzZXNzaW9uIHR5cGUgd2l0aCBjdXN0b20gZmllbGRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRXh0ZW5kZWRTZXNzaW9uIGV4dGVuZHMgU2Vzc2lvbiB7XG4gIHVzZXI6IHtcbiAgICBpZDogc3RyaW5nXG4gICAgZW1haWw6IHN0cmluZ1xuICAgIG5hbWU/OiBzdHJpbmcgfCBudWxsXG4gICAgcm9sZTogUm9sZVxuICAgIG1vYmlsZTogc3RyaW5nXG4gICAgZ2FyYWdlSWQ/OiBzdHJpbmdcbiAgICBzdXBwbGllcklkPzogc3RyaW5nXG4gIH1cbn1cblxuIl0sIm5hbWVzIjpbImhhc2giLCJjb21wYXJlIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsInByaXNtYSIsImhhc2hQYXNzd29yZCIsInBhc3N3b3JkIiwidmVyaWZ5UGFzc3dvcmQiLCJoYXNoZWRQYXNzd29yZCIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJhdXRob3JpemUiLCJFcnJvciIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpbmNsdWRlIiwiZ2FyYWdlIiwic3VwcGxpZXIiLCJpc1ZhbGlkIiwiaWQiLCJyb2xlIiwibW9iaWxlIiwiZ2FyYWdlSWQiLCJzdXBwbGllcklkIiwiY2FsbGJhY2tzIiwiand0IiwidG9rZW4iLCJ0cmlnZ2VyIiwic2Vzc2lvbiIsInBhZ2VzIiwic2lnbkluIiwiZXJyb3IiLCJzdHJhdGVneSIsInNlY3JldCIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9TRUNSRVQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/notifications.ts":
/*!******************************!*\
  !*** ./lib/notifications.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   notifyGarageNewOffer: () => (/* binding */ notifyGarageNewOffer),\n/* harmony export */   notifyGarageRequestCreated: () => (/* binding */ notifyGarageRequestCreated),\n/* harmony export */   notifySupplierNewRequest: () => (/* binding */ notifySupplierNewRequest),\n/* harmony export */   sendNotification: () => (/* binding */ sendNotification)\n/* harmony export */ });\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var _whatsapp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./whatsapp */ \"(rsc)/./lib/whatsapp.ts\");\n/**\n * Notification Service\n * \n * Handles sending notifications and logging them in the database\n */ \n\n/**\n * Send a notification via WhatsApp and log it in DB\n */ async function sendNotification({ userId, mobile, type, text, data }) {\n    try {\n        const formattedMobile = (0,_whatsapp__WEBPACK_IMPORTED_MODULE_1__.formatPhoneNumber)(mobile);\n        const result = await (0,_whatsapp__WEBPACK_IMPORTED_MODULE_1__.sendWhatsApp)(formattedMobile, text);\n        // Log notification in database\n        await _prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.notification.create({\n            data: {\n                userId,\n                type,\n                data: data ? JSON.parse(JSON.stringify(data)) : null,\n                sentVia: 'WHATSAPP',\n                success: result.success,\n                error: result.success ? null : result.message\n            }\n        });\n        return result;\n    } catch (error) {\n        // Log failed notification\n        await _prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.notification.create({\n            data: {\n                userId,\n                type,\n                data: data ? JSON.parse(JSON.stringify(data)) : null,\n                sentVia: 'WHATSAPP',\n                success: false,\n                error: error instanceof Error ? error.message : 'Unknown error'\n            }\n        });\n        throw error;\n    }\n}\n/**\n * Notify garage about new request\n */ async function notifyGarageRequestCreated(requestId, garageMobile, garageUserId) {\n    const text = `CarBot ðŸš—\\n\\n×”×‘×§×©×” × ×¤×ª×—×” ×‘×”×¦×œ×—×”! (#${requestId.slice(-6)})\\n× ×¢×“×›×Ÿ ×‘×¨×’×¢ ×©×¡×¤×§×™× ×ž×’×™×‘×™×.`;\n    await sendNotification({\n        userId: garageUserId,\n        mobile: garageMobile,\n        type: 'NEW_REQUEST',\n        text,\n        data: {\n            requestId\n        }\n    });\n}\n/**\n * Notify supplier about new matching request\n */ async function notifySupplierNewRequest(requestId, supplierMobile, supplierUserId, vehicleInfo, parts) {\n    const vehicleDesc = `${vehicleInfo.make} ${vehicleInfo.model}${vehicleInfo.year ? ` ${vehicleInfo.year}` : ''}`;\n    const partsDesc = parts.join(', ');\n    const text = `CarBot ðŸš—\n×‘×§×©×” ×—×“×©×” ×œ×—×œ×§×™ ×—×™×œ×•×£!\n\n×¨×›×‘: ${vehicleDesc}\n×—×œ×§×™×: ${partsDesc}\n\n×œ×—×¥ ×›××Ÿ ×œ×”×¦×¢×ª ×ž×—×™×¨:\n${process.env.NEXTAUTH_URL}/supplier/requests/${requestId}`;\n    await sendNotification({\n        userId: supplierUserId,\n        mobile: supplierMobile,\n        type: 'NEW_REQUEST',\n        text,\n        data: {\n            requestId,\n            vehicleInfo,\n            parts\n        }\n    });\n}\n/**\n * Notify garage about new offer\n */ async function notifyGarageNewOffer(offerId, requestId, garageMobile, garageUserId, supplierName, supplierPhone, vehicleInfo, parts, totalPrice) {\n    const vehicleDesc = `${vehicleInfo.make} ${vehicleInfo.model}${vehicleInfo.year ? ` ${vehicleInfo.year}` : ''}`;\n    const partsDesc = parts.join(', ');\n    const text = `CarBot ðŸš—\n×§×™×‘×œ×ª ×”×¦×¢×” ×—×“×©×”!\n\n×¡×¤×§: ${supplierName}\n×¨×›×‘: ${vehicleDesc}\n×—×œ×§×™×: ${partsDesc}\n×ž×—×™×¨ ×›×•×œ×œ: ${totalPrice.toLocaleString('he-IL')} â‚ª\n\n×˜×œ×¤×•×Ÿ ×¡×¤×§: ${supplierPhone}\n\n×œ×¦×¤×™×™×” ×‘×”×¦×¢×•×ª:\n${process.env.NEXTAUTH_URL}/garage/requests/${requestId}`;\n    await sendNotification({\n        userId: garageUserId,\n        mobile: garageMobile,\n        type: 'NEW_OFFER',\n        text,\n        data: {\n            offerId,\n            requestId,\n            supplierName,\n            totalPrice\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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N0IsTUFBTTdCLE9BQU8sQ0FBQzs7O0tBR1gsRUFBRW1DLGFBQWE7S0FDZixFQUFFWCxZQUFZO09BQ1osRUFBRUksVUFBVTtXQUNSLEVBQUVTLFdBQVdDLGNBQWMsQ0FBQyxTQUFTOztXQUVyQyxFQUFFRixjQUFjOzs7QUFHM0IsRUFBRU4sUUFBUUMsR0FBRyxDQUFDQyxZQUFZLENBQUMsaUJBQWlCLEVBQUVqQixXQUFXO0lBRXZELE1BQU1uQixpQkFBaUI7UUFDckJDLFFBQVFvQjtRQUNSbkIsUUFBUWtCO1FBQ1JqQixNQUFNO1FBQ05DO1FBQ0FDLE1BQU07WUFBRWlDO1lBQVNuQjtZQUFXb0I7WUFBY0U7UUFBVztJQUN2RDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvdGFkbWl0aW50ZXJhY3RpdmUvY2FyYm90bmV4dC9saWIvbm90aWZpY2F0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE5vdGlmaWNhdGlvbiBTZXJ2aWNlXG4gKiBcbiAqIEhhbmRsZXMgc2VuZGluZyBub3RpZmljYXRpb25zIGFuZCBsb2dnaW5nIHRoZW0gaW4gdGhlIGRhdGFiYXNlXG4gKi9cblxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnLi9wcmlzbWEnXG5pbXBvcnQgeyBzZW5kV2hhdHNBcHAsIGZvcm1hdFBob25lTnVtYmVyIH0gZnJvbSAnLi93aGF0c2FwcCdcbmltcG9ydCB7IE5vdGlmaWNhdGlvblR5cGUgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuaW50ZXJmYWNlIE5vdGlmaWNhdGlvbkRhdGEge1xuICB1c2VySWQ6IHN0cmluZ1xuICBtb2JpbGU6IHN0cmluZ1xuICB0eXBlOiBOb3RpZmljYXRpb25UeXBlXG4gIHRleHQ6IHN0cmluZ1xuICBkYXRhPzogYW55XG59XG5cbi8qKlxuICogU2VuZCBhIG5vdGlmaWNhdGlvbiB2aWEgV2hhdHNBcHAgYW5kIGxvZyBpdCBpbiBEQlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE5vdGlmaWNhdGlvbih7XG4gIHVzZXJJZCxcbiAgbW9iaWxlLFxuICB0eXBlLFxuICB0ZXh0LFxuICBkYXRhLFxufTogTm90aWZpY2F0aW9uRGF0YSkge1xuICB0cnkge1xuICAgIGNvbnN0IGZvcm1hdHRlZE1vYmlsZSA9IGZvcm1hdFBob25lTnVtYmVyKG1vYmlsZSlcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kV2hhdHNBcHAoZm9ybWF0dGVkTW9iaWxlLCB0ZXh0KVxuXG4gICAgLy8gTG9nIG5vdGlmaWNhdGlvbiBpbiBkYXRhYmFzZVxuICAgIGF3YWl0IHByaXNtYS5ub3RpZmljYXRpb24uY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICB0eXBlLFxuICAgICAgICBkYXRhOiBkYXRhID8gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhKSkgOiBudWxsLFxuICAgICAgICBzZW50VmlhOiAnV0hBVFNBUFAnLFxuICAgICAgICBzdWNjZXNzOiByZXN1bHQuc3VjY2VzcyxcbiAgICAgICAgZXJyb3I6IHJlc3VsdC5zdWNjZXNzID8gbnVsbCA6IHJlc3VsdC5tZXNzYWdlLFxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIExvZyBmYWlsZWQgbm90aWZpY2F0aW9uXG4gICAgYXdhaXQgcHJpc21hLm5vdGlmaWNhdGlvbi5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICB1c2VySWQsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGRhdGE6IGRhdGEgPyBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKSA6IG51bGwsXG4gICAgICAgIHNlbnRWaWE6ICdXSEFUU0FQUCcsXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICB0aHJvdyBlcnJvclxuICB9XG59XG5cbi8qKlxuICogTm90aWZ5IGdhcmFnZSBhYm91dCBuZXcgcmVxdWVzdFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbm90aWZ5R2FyYWdlUmVxdWVzdENyZWF0ZWQoXG4gIHJlcXVlc3RJZDogc3RyaW5nLFxuICBnYXJhZ2VNb2JpbGU6IHN0cmluZyxcbiAgZ2FyYWdlVXNlcklkOiBzdHJpbmdcbikge1xuICBjb25zdCB0ZXh0ID0gYENhckJvdCDwn5qXXFxuXFxu15TXkden16nXlCDXoNek16rXl9eUINeR15TXptec15fXlCEgKCMke3JlcXVlc3RJZC5zbGljZSgtNil9KVxcbteg16LXk9eb158g15HXqNeS16Ig16nXodek16fXmdedINee15LXmdeR15nXnS5gXG5cbiAgYXdhaXQgc2VuZE5vdGlmaWNhdGlvbih7XG4gICAgdXNlcklkOiBnYXJhZ2VVc2VySWQsXG4gICAgbW9iaWxlOiBnYXJhZ2VNb2JpbGUsXG4gICAgdHlwZTogJ05FV19SRVFVRVNUJyxcbiAgICB0ZXh0LFxuICAgIGRhdGE6IHsgcmVxdWVzdElkIH0sXG4gIH0pXG59XG5cbi8qKlxuICogTm90aWZ5IHN1cHBsaWVyIGFib3V0IG5ldyBtYXRjaGluZyByZXF1ZXN0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBub3RpZnlTdXBwbGllck5ld1JlcXVlc3QoXG4gIHJlcXVlc3RJZDogc3RyaW5nLFxuICBzdXBwbGllck1vYmlsZTogc3RyaW5nLFxuICBzdXBwbGllclVzZXJJZDogc3RyaW5nLFxuICB2ZWhpY2xlSW5mbzogeyBtYWtlOiBzdHJpbmc7IG1vZGVsOiBzdHJpbmc7IHllYXI/OiBudW1iZXIgfSxcbiAgcGFydHM6IHN0cmluZ1tdXG4pIHtcbiAgY29uc3QgdmVoaWNsZURlc2MgPSBgJHt2ZWhpY2xlSW5mby5tYWtlfSAke3ZlaGljbGVJbmZvLm1vZGVsfSR7XG4gICAgdmVoaWNsZUluZm8ueWVhciA/IGAgJHt2ZWhpY2xlSW5mby55ZWFyfWAgOiAnJ1xuICB9YFxuICBjb25zdCBwYXJ0c0Rlc2MgPSBwYXJ0cy5qb2luKCcsICcpXG5cbiAgY29uc3QgdGV4dCA9IGBDYXJCb3Qg8J+al1xu15HXp9ep15Qg15fXk9ep15Qg15zXl9ec16fXmSDXl9eZ15zXldejIVxuXG7XqNeb15E6ICR7dmVoaWNsZURlc2N9XG7Xl9ec16fXmdedOiAke3BhcnRzRGVzY31cblxu15zXl9elINeb15DXnyDXnNeU16bXoteqINee15fXmdeoOlxuJHtwcm9jZXNzLmVudi5ORVhUQVVUSF9VUkx9L3N1cHBsaWVyL3JlcXVlc3RzLyR7cmVxdWVzdElkfWBcblxuICBhd2FpdCBzZW5kTm90aWZpY2F0aW9uKHtcbiAgICB1c2VySWQ6IHN1cHBsaWVyVXNlcklkLFxuICAgIG1vYmlsZTogc3VwcGxpZXJNb2JpbGUsXG4gICAgdHlwZTogJ05FV19SRVFVRVNUJyxcbiAgICB0ZXh0LFxuICAgIGRhdGE6IHsgcmVxdWVzdElkLCB2ZWhpY2xlSW5mbywgcGFydHMgfSxcbiAgfSlcbn1cblxuLyoqXG4gKiBOb3RpZnkgZ2FyYWdlIGFib3V0IG5ldyBvZmZlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbm90aWZ5R2FyYWdlTmV3T2ZmZXIoXG4gIG9mZmVySWQ6IHN0cmluZyxcbiAgcmVxdWVzdElkOiBzdHJpbmcsXG4gIGdhcmFnZU1vYmlsZTogc3RyaW5nLFxuICBnYXJhZ2VVc2VySWQ6IHN0cmluZyxcbiAgc3VwcGxpZXJOYW1lOiBzdHJpbmcsXG4gIHN1cHBsaWVyUGhvbmU6IHN0cmluZyxcbiAgdmVoaWNsZUluZm86IHsgbWFrZTogc3RyaW5nOyBtb2RlbDogc3RyaW5nOyB5ZWFyPzogbnVtYmVyIH0sXG4gIHBhcnRzOiBzdHJpbmdbXSxcbiAgdG90YWxQcmljZTogbnVtYmVyXG4pIHtcbiAgY29uc3QgdmVoaWNsZURlc2MgPSBgJHt2ZWhpY2xlSW5mby5tYWtlfSAke3ZlaGljbGVJbmZvLm1vZGVsfSR7XG4gICAgdmVoaWNsZUluZm8ueWVhciA/IGAgJHt2ZWhpY2xlSW5mby55ZWFyfWAgOiAnJ1xuICB9YFxuICBjb25zdCBwYXJ0c0Rlc2MgPSBwYXJ0cy5qb2luKCcsICcpXG5cbiAgY29uc3QgdGV4dCA9IGBDYXJCb3Qg8J+al1xu16fXmdeR15zXqiDXlNem16LXlCDXl9eT16nXlCFcblxu16HXpNenOiAke3N1cHBsaWVyTmFtZX1cbteo15vXkTogJHt2ZWhpY2xlRGVzY31cbteX15zXp9eZ1506ICR7cGFydHNEZXNjfVxu157Xl9eZ16gg15vXldec15w6ICR7dG90YWxQcmljZS50b0xvY2FsZVN0cmluZygnaGUtSUwnKX0g4oKqXG5cbteY15zXpNeV158g16HXpNenOiAke3N1cHBsaWVyUGhvbmV9XG5cbtec16bXpNeZ15nXlCDXkdeU16bXoteV16o6XG4ke3Byb2Nlc3MuZW52Lk5FWFRBVVRIX1VSTH0vZ2FyYWdlL3JlcXVlc3RzLyR7cmVxdWVzdElkfWBcblxuICBhd2FpdCBzZW5kTm90aWZpY2F0aW9uKHtcbiAgICB1c2VySWQ6IGdhcmFnZVVzZXJJZCxcbiAgICBtb2JpbGU6IGdhcmFnZU1vYmlsZSxcbiAgICB0eXBlOiAnTkVXX09GRkVSJyxcbiAgICB0ZXh0LFxuICAgIGRhdGE6IHsgb2ZmZXJJZCwgcmVxdWVzdElkLCBzdXBwbGllck5hbWUsIHRvdGFsUHJpY2UgfSxcbiAgfSlcbn1cblxuIl0sIm5hbWVzIjpbInByaXNtYSIsInNlbmRXaGF0c0FwcCIsImZvcm1hdFBob25lTnVtYmVyIiwic2VuZE5vdGlmaWNhdGlvbiIsInVzZXJJZCIsIm1vYmlsZSIsInR5cGUiLCJ0ZXh0IiwiZGF0YSIsImZvcm1hdHRlZE1vYmlsZSIsInJlc3VsdCIsIm5vdGlmaWNhdGlvbiIsImNyZWF0ZSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsInNlbnRWaWEiLCJzdWNjZXNzIiwiZXJyb3IiLCJtZXNzYWdlIiwiRXJyb3IiLCJub3RpZnlHYXJhZ2VSZXF1ZXN0Q3JlYXRlZCIsInJlcXVlc3RJZCIsImdhcmFnZU1vYmlsZSIsImdhcmFnZVVzZXJJZCIsInNsaWNlIiwibm90aWZ5U3VwcGxpZXJOZXdSZXF1ZXN0Iiwic3VwcGxpZXJNb2JpbGUiLCJzdXBwbGllclVzZXJJZCIsInZlaGljbGVJbmZvIiwicGFydHMiLCJ2ZWhpY2xlRGVzYyIsIm1ha2UiLCJtb2RlbCIsInllYXIiLCJwYXJ0c0Rlc2MiLCJqb2luIiwicHJvY2VzcyIsImVudiIsIk5FWFRBVVRIX1VSTCIsIm5vdGlmeUdhcmFnZU5ld09mZmVyIiwib2ZmZXJJZCIsInN1cHBsaWVyTmFtZSIsInN1cHBsaWVyUGhvbmUiLCJ0b3RhbFByaWNlIiwidG9Mb2NhbGVTdHJpbmciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/notifications.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLFNBQVNGLGdCQUFnQkUsTUFBTSxJQUFJLElBQUlILHdEQUFZQSxHQUFFO0FBRWxFLElBQUlJLElBQXFDLEVBQUVILGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsiL1VzZXJzL3RhZG1pdGludGVyYWN0aXZlL2NhcmJvdG5leHQvbGliL3ByaXNtYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcbiAgcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz8gbmV3IFByaXNtYUNsaWVudCgpXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hXG5cbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwicHJvY2VzcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./lib/whatsapp.ts":
/*!*************************!*\
  !*** ./lib/whatsapp.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatPhoneNumber: () => (/* binding */ formatPhoneNumber),\n/* harmony export */   sendWhatsApp: () => (/* binding */ sendWhatsApp),\n/* harmony export */   sendWhatsAppTemplate: () => (/* binding */ sendWhatsAppTemplate)\n/* harmony export */ });\n/**\n * RappelSend WhatsApp Integration\n * \n * This service handles all WhatsApp notifications via RappelSend API\n */ /**\n * Send a text message via WhatsApp\n * \n * @param mobile - Phone number in international format (e.g., \"972542284283\")\n * @param text - Message text\n * @returns Response from RappelSend API\n */ async function sendWhatsApp(mobile, text) {\n    // Check if API credentials are configured\n    const clientId = process.env.RAPPEL_CLIENT_ID;\n    const apiKey = process.env.RAPPEL_API_KEY;\n    // If not configured or using placeholder values, return mock success\n    if (!clientId || !apiKey || clientId === 'YOUR_CLIENT_ID' || apiKey === 'YOUR_API_KEYS') {\n        console.log('ðŸ“± WhatsApp (Mock Mode):', mobile, text.substring(0, 50) + '...');\n        return {\n            success: true,\n            message: 'Mock message sent (API not configured)'\n        };\n    }\n    const url = 'https://rappelsend.com/api/user/v2/send_message';\n    const body = {\n        client_id: clientId,\n        mobile,\n        text\n    };\n    const headers = {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${apiKey}`\n    };\n    try {\n        const res = await fetch(url, {\n            method: 'POST',\n            headers,\n            body: JSON.stringify(body)\n        });\n        if (!res.ok) {\n            const errorText = await res.text();\n            console.error('RappelSend API error:', res.status, errorText);\n            return {\n                success: false,\n                message: `RappelSend API error: ${res.status}`\n            };\n        }\n        const data = await res.json();\n        console.log('ðŸ“± WhatsApp sent successfully:', mobile);\n        return data;\n    } catch (error) {\n        console.error('WhatsApp send error:', error);\n        return {\n            success: false,\n            message: error instanceof Error ? error.message : 'Unknown error'\n        };\n    }\n}\n/**\n * Send a template message via WhatsApp\n * \n * @param mobile - Phone number in international format\n * @param templetId - Template ID from RappelSend\n * @returns Response from RappelSend API\n */ async function sendWhatsAppTemplate(mobile, templetId) {\n    // Check if API credentials are configured\n    const clientId = process.env.RAPPEL_CLIENT_ID;\n    const apiKey = process.env.RAPPEL_API_KEY;\n    // If not configured or using placeholder values, return mock success\n    if (!clientId || !apiKey || clientId === 'YOUR_CLIENT_ID' || apiKey === 'YOUR_API_KEYS') {\n        console.log('ðŸ“± WhatsApp Template (Mock Mode):', mobile, templetId);\n        return {\n            success: true,\n            message: 'Mock template sent (API not configured)'\n        };\n    }\n    const url = 'https://rappelsend.com/api/user/v2/send_templet';\n    const body = {\n        client_id: clientId,\n        mobile,\n        templet_id: templetId\n    };\n    const headers = {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${apiKey}`\n    };\n    try {\n        const res = await fetch(url, {\n            method: 'POST',\n            headers,\n            body: JSON.stringify(body)\n        });\n        if (!res.ok) {\n            const errorText = await res.text();\n            console.error('RappelSend API error:', res.status, errorText);\n            return {\n                success: false,\n                message: `RappelSend API error: ${res.status}`\n            };\n        }\n        const data = await res.json();\n        console.log('ðŸ“± WhatsApp template sent successfully:', mobile);\n        return data;\n    } catch (error) {\n        console.error('WhatsApp template send error:', error);\n        return {\n            success: false,\n            message: error instanceof Error ? error.message : 'Unknown error'\n        };\n    }\n}\n/**\n * Format phone number to international format\n * Assumes Israeli phone numbers if not prefixed\n * \n * @param phone - Phone number (e.g., \"054-2284283\" or \"0542284283\")\n * @returns Formatted phone number (e.g., \"972542284283\")\n */ function formatPhoneNumber(phone) {\n    // Remove all non-digit characters\n    const cleaned = phone.replace(/\\D/g, '');\n    // If starts with 0, replace with 972 (Israel country code)\n    if (cleaned.startsWith('0')) {\n        return '972' + cleaned.substring(1);\n    }\n    // If starts with 972, return as is\n    if (cleaned.startsWith('972')) {\n        return cleaned;\n    }\n    // Otherwise, assume Israeli number and add prefix\n    return '972' + cleaned;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLENBQUMsMkNBQTJDVDtRQUN2RCxPQUFPMkI7SUFDVCxFQUFFLE9BQU9GLE9BQU87UUFDZGpCLFFBQVFpQixLQUFLLENBQUMsaUNBQWlDQTtRQUMvQyxPQUFPO1lBQ0xkLFNBQVM7WUFDVEMsU0FBU2EsaUJBQWlCSSxRQUFRSixNQUFNYixPQUFPLEdBQUc7UUFDcEQ7SUFDRjtBQUNGO0FBRUE7Ozs7OztDQU1DLEdBQ00sU0FBU3FCLGtCQUFrQkMsS0FBYTtJQUM3QyxrQ0FBa0M7SUFDbEMsTUFBTUMsVUFBVUQsTUFBTUUsT0FBTyxDQUFDLE9BQU87SUFFckMsMkRBQTJEO0lBQzNELElBQUlELFFBQVFFLFVBQVUsQ0FBQyxNQUFNO1FBQzNCLE9BQU8sUUFBUUYsUUFBUXpCLFNBQVMsQ0FBQztJQUNuQztJQUVBLG1DQUFtQztJQUNuQyxJQUFJeUIsUUFBUUUsVUFBVSxDQUFDLFFBQVE7UUFDN0IsT0FBT0Y7SUFDVDtJQUVBLGtEQUFrRDtJQUNsRCxPQUFPLFFBQVFBO0FBQ2pCIiwic291cmNlcyI6WyIvVXNlcnMvdGFkbWl0aW50ZXJhY3RpdmUvY2FyYm90bmV4dC9saWIvd2hhdHNhcHAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSYXBwZWxTZW5kIFdoYXRzQXBwIEludGVncmF0aW9uXG4gKiBcbiAqIFRoaXMgc2VydmljZSBoYW5kbGVzIGFsbCBXaGF0c0FwcCBub3RpZmljYXRpb25zIHZpYSBSYXBwZWxTZW5kIEFQSVxuICovXG5cbmludGVyZmFjZSBTZW5kTWVzc2FnZVJlc3BvbnNlIHtcbiAgc3VjY2VzczogYm9vbGVhblxuICBtZXNzYWdlOiBzdHJpbmdcbiAgZGF0YT86IGFueVxufVxuXG5pbnRlcmZhY2UgU2VuZFRlbXBsYXRlUmVzcG9uc2Uge1xuICBzdWNjZXNzOiBib29sZWFuXG4gIG1lc3NhZ2U6IHN0cmluZ1xuICBkYXRhPzogYW55XG59XG5cbi8qKlxuICogU2VuZCBhIHRleHQgbWVzc2FnZSB2aWEgV2hhdHNBcHBcbiAqIFxuICogQHBhcmFtIG1vYmlsZSAtIFBob25lIG51bWJlciBpbiBpbnRlcm5hdGlvbmFsIGZvcm1hdCAoZS5nLiwgXCI5NzI1NDIyODQyODNcIilcbiAqIEBwYXJhbSB0ZXh0IC0gTWVzc2FnZSB0ZXh0XG4gKiBAcmV0dXJucyBSZXNwb25zZSBmcm9tIFJhcHBlbFNlbmQgQVBJXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kV2hhdHNBcHAoXG4gIG1vYmlsZTogc3RyaW5nLFxuICB0ZXh0OiBzdHJpbmdcbik6IFByb21pc2U8U2VuZE1lc3NhZ2VSZXNwb25zZT4ge1xuICAvLyBDaGVjayBpZiBBUEkgY3JlZGVudGlhbHMgYXJlIGNvbmZpZ3VyZWRcbiAgY29uc3QgY2xpZW50SWQgPSBwcm9jZXNzLmVudi5SQVBQRUxfQ0xJRU5UX0lEXG4gIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LlJBUFBFTF9BUElfS0VZXG5cbiAgLy8gSWYgbm90IGNvbmZpZ3VyZWQgb3IgdXNpbmcgcGxhY2Vob2xkZXIgdmFsdWVzLCByZXR1cm4gbW9jayBzdWNjZXNzXG4gIGlmIChcbiAgICAhY2xpZW50SWQgfHxcbiAgICAhYXBpS2V5IHx8XG4gICAgY2xpZW50SWQgPT09ICdZT1VSX0NMSUVOVF9JRCcgfHxcbiAgICBhcGlLZXkgPT09ICdZT1VSX0FQSV9LRVlTJ1xuICApIHtcbiAgICBjb25zb2xlLmxvZygn8J+TsSBXaGF0c0FwcCAoTW9jayBNb2RlKTonLCBtb2JpbGUsIHRleHQuc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nKVxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ01vY2sgbWVzc2FnZSBzZW50IChBUEkgbm90IGNvbmZpZ3VyZWQpJyxcbiAgICB9XG4gIH1cblxuICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9yYXBwZWxzZW5kLmNvbS9hcGkvdXNlci92Mi9zZW5kX21lc3NhZ2UnXG5cbiAgY29uc3QgYm9keSA9IHtcbiAgICBjbGllbnRfaWQ6IGNsaWVudElkLFxuICAgIG1vYmlsZSxcbiAgICB0ZXh0LFxuICB9XG5cbiAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthcGlLZXl9YCxcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICB9KVxuXG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlcy50ZXh0KClcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1JhcHBlbFNlbmQgQVBJIGVycm9yOicsIHJlcy5zdGF0dXMsIGVycm9yVGV4dClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBgUmFwcGVsU2VuZCBBUEkgZXJyb3I6ICR7cmVzLnN0YXR1c31gLFxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpXG4gICAgY29uc29sZS5sb2coJ/Cfk7EgV2hhdHNBcHAgc2VudCBzdWNjZXNzZnVsbHk6JywgbW9iaWxlKVxuICAgIHJldHVybiBkYXRhXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignV2hhdHNBcHAgc2VuZCBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBTZW5kIGEgdGVtcGxhdGUgbWVzc2FnZSB2aWEgV2hhdHNBcHBcbiAqIFxuICogQHBhcmFtIG1vYmlsZSAtIFBob25lIG51bWJlciBpbiBpbnRlcm5hdGlvbmFsIGZvcm1hdFxuICogQHBhcmFtIHRlbXBsZXRJZCAtIFRlbXBsYXRlIElEIGZyb20gUmFwcGVsU2VuZFxuICogQHJldHVybnMgUmVzcG9uc2UgZnJvbSBSYXBwZWxTZW5kIEFQSVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFdoYXRzQXBwVGVtcGxhdGUoXG4gIG1vYmlsZTogc3RyaW5nLFxuICB0ZW1wbGV0SWQ6IG51bWJlclxuKTogUHJvbWlzZTxTZW5kVGVtcGxhdGVSZXNwb25zZT4ge1xuICAvLyBDaGVjayBpZiBBUEkgY3JlZGVudGlhbHMgYXJlIGNvbmZpZ3VyZWRcbiAgY29uc3QgY2xpZW50SWQgPSBwcm9jZXNzLmVudi5SQVBQRUxfQ0xJRU5UX0lEXG4gIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LlJBUFBFTF9BUElfS0VZXG5cbiAgLy8gSWYgbm90IGNvbmZpZ3VyZWQgb3IgdXNpbmcgcGxhY2Vob2xkZXIgdmFsdWVzLCByZXR1cm4gbW9jayBzdWNjZXNzXG4gIGlmIChcbiAgICAhY2xpZW50SWQgfHxcbiAgICAhYXBpS2V5IHx8XG4gICAgY2xpZW50SWQgPT09ICdZT1VSX0NMSUVOVF9JRCcgfHxcbiAgICBhcGlLZXkgPT09ICdZT1VSX0FQSV9LRVlTJ1xuICApIHtcbiAgICBjb25zb2xlLmxvZygn8J+TsSBXaGF0c0FwcCBUZW1wbGF0ZSAoTW9jayBNb2RlKTonLCBtb2JpbGUsIHRlbXBsZXRJZClcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdNb2NrIHRlbXBsYXRlIHNlbnQgKEFQSSBub3QgY29uZmlndXJlZCknLFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHVybCA9ICdodHRwczovL3JhcHBlbHNlbmQuY29tL2FwaS91c2VyL3YyL3NlbmRfdGVtcGxldCdcblxuICBjb25zdCBib2R5ID0ge1xuICAgIGNsaWVudF9pZDogY2xpZW50SWQsXG4gICAgbW9iaWxlLFxuICAgIHRlbXBsZXRfaWQ6IHRlbXBsZXRJZCxcbiAgfVxuXG4gIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YXBpS2V5fWAsXG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgfSlcblxuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXMudGV4dCgpXG4gICAgICBjb25zb2xlLmVycm9yKCdSYXBwZWxTZW5kIEFQSSBlcnJvcjonLCByZXMuc3RhdHVzLCBlcnJvclRleHQpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogYFJhcHBlbFNlbmQgQVBJIGVycm9yOiAke3Jlcy5zdGF0dXN9YCxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuICAgIGNvbnNvbGUubG9nKCfwn5OxIFdoYXRzQXBwIHRlbXBsYXRlIHNlbnQgc3VjY2Vzc2Z1bGx5OicsIG1vYmlsZSlcbiAgICByZXR1cm4gZGF0YVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1doYXRzQXBwIHRlbXBsYXRlIHNlbmQgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRm9ybWF0IHBob25lIG51bWJlciB0byBpbnRlcm5hdGlvbmFsIGZvcm1hdFxuICogQXNzdW1lcyBJc3JhZWxpIHBob25lIG51bWJlcnMgaWYgbm90IHByZWZpeGVkXG4gKiBcbiAqIEBwYXJhbSBwaG9uZSAtIFBob25lIG51bWJlciAoZS5nLiwgXCIwNTQtMjI4NDI4M1wiIG9yIFwiMDU0MjI4NDI4M1wiKVxuICogQHJldHVybnMgRm9ybWF0dGVkIHBob25lIG51bWJlciAoZS5nLiwgXCI5NzI1NDIyODQyODNcIilcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFBob25lTnVtYmVyKHBob25lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAvLyBSZW1vdmUgYWxsIG5vbi1kaWdpdCBjaGFyYWN0ZXJzXG4gIGNvbnN0IGNsZWFuZWQgPSBwaG9uZS5yZXBsYWNlKC9cXEQvZywgJycpXG4gIFxuICAvLyBJZiBzdGFydHMgd2l0aCAwLCByZXBsYWNlIHdpdGggOTcyIChJc3JhZWwgY291bnRyeSBjb2RlKVxuICBpZiAoY2xlYW5lZC5zdGFydHNXaXRoKCcwJykpIHtcbiAgICByZXR1cm4gJzk3MicgKyBjbGVhbmVkLnN1YnN0cmluZygxKVxuICB9XG4gIFxuICAvLyBJZiBzdGFydHMgd2l0aCA5NzIsIHJldHVybiBhcyBpc1xuICBpZiAoY2xlYW5lZC5zdGFydHNXaXRoKCc5NzInKSkge1xuICAgIHJldHVybiBjbGVhbmVkXG4gIH1cbiAgXG4gIC8vIE90aGVyd2lzZSwgYXNzdW1lIElzcmFlbGkgbnVtYmVyIGFuZCBhZGQgcHJlZml4XG4gIHJldHVybiAnOTcyJyArIGNsZWFuZWRcbn1cblxuIl0sIm5hbWVzIjpbInNlbmRXaGF0c0FwcCIsIm1vYmlsZSIsInRleHQiLCJjbGllbnRJZCIsInByb2Nlc3MiLCJlbnYiLCJSQVBQRUxfQ0xJRU5UX0lEIiwiYXBpS2V5IiwiUkFQUEVMX0FQSV9LRVkiLCJjb25zb2xlIiwibG9nIiwic3Vic3RyaW5nIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJ1cmwiLCJib2R5IiwiY2xpZW50X2lkIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImVycm9yVGV4dCIsImVycm9yIiwic3RhdHVzIiwiZGF0YSIsImpzb24iLCJFcnJvciIsInNlbmRXaGF0c0FwcFRlbXBsYXRlIiwidGVtcGxldElkIiwidGVtcGxldF9pZCIsImZvcm1hdFBob25lTnVtYmVyIiwicGhvbmUiLCJjbGVhbmVkIiwicmVwbGFjZSIsInN0YXJ0c1dpdGgiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/whatsapp.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsupplier%2Foffers%2Froute&page=%2Fapi%2Fsupplier%2Foffers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsupplier%2Foffers%2Froute.ts&appDir=%2FUsers%2Ftadmitinteractive%2Fcarbotnext%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftadmitinteractive%2Fcarbotnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsupplier%2Foffers%2Froute&page=%2Fapi%2Fsupplier%2Foffers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsupplier%2Foffers%2Froute.ts&appDir=%2FUsers%2Ftadmitinteractive%2Fcarbotnext%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftadmitinteractive%2Fcarbotnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _Users_tadmitinteractive_carbotnext_app_api_supplier_offers_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./app/api/supplier/offers/route.ts */ \"(rsc)/./app/api/supplier/offers/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/supplier/offers/route\",\n        pathname: \"/api/supplier/offers\",\n        filename: \"route\",\n        bundlePath: \"app/api/supplier/offers/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"/Users/tadmitinteractive/carbotnext/app/api/supplier/offers/route.ts\",\n    nextConfigOutput,\n    userland: _Users_tadmitinteractive_carbotnext_app_api_supplier_offers_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/supplier/offers/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZzdXBwbGllciUyRm9mZmVycyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc3VwcGxpZXIlMkZvZmZlcnMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzdXBwbGllciUyRm9mZmVycyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnRhZG1pdGludGVyYWN0aXZlJTJGY2FyYm90bmV4dCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZ0YWRtaXRpbnRlcmFjdGl2ZSUyRmNhcmJvdG5leHQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QmaXNHbG9iYWxOb3RGb3VuZEVuYWJsZWQ9ISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNkO0FBQ1M7QUFDTztBQUNLO0FBQ21DO0FBQ2pEO0FBQ087QUFDZjtBQUNzQztBQUN6QjtBQUNNO0FBQ0M7QUFDaEI7QUFDK0I7QUFDakc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYSxPQUFvQyxJQUFJLENBQUU7QUFDdkQsd0JBQXdCLE1BQXVDO0FBQy9EO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FB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QUFDOUI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkVBQTZFLGdGQUFjO0FBQzNGLGlDQUFpQyxRQUFRLEVBQUUsUUFBUTtBQUNuRCwwQkFBMEIsdUVBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxNQUFNO0FBQ04sNkJBQTZCLDZGQUFlO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJGQUFtQjtBQUNyRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2RUFBWTtBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgeyBnZXRSZXF1ZXN0TWV0YSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QtbWV0YVwiO1xuaW1wb3J0IHsgZ2V0VHJhY2VyLCBTcGFuS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS90cmFjZXJcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUFwcFBhdGggfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2FwcC1wYXRoc1wiO1xuaW1wb3J0IHsgTm9kZU5leHRSZXF1ZXN0LCBOb2RlTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYmFzZS1odHRwL25vZGVcIjtcbmltcG9ydCB7IE5leHRSZXF1ZXN0QWRhcHRlciwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9uZXh0LXJlcXVlc3RcIjtcbmltcG9ydCB7IEJhc2VTZXJ2ZXJTcGFuIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgZ2V0UmV2YWxpZGF0ZVJlYXNvbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2luc3RydW1lbnRhdGlvbi91dGlsc1wiO1xuaW1wb3J0IHsgc2VuZFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvc2VuZC1yZXNwb25zZVwiO1xuaW1wb3J0IHsgZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzLCB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRDYWNoZUNvbnRyb2xIZWFkZXIgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvY2FjaGUtY29udHJvbFwiO1xuaW1wb3J0IHsgSU5GSU5JVEVfQ0FDSEUsIE5FWFRfQ0FDSEVfVEFHU19IRUFERVIgfSBmcm9tIFwibmV4dC9kaXN0L2xpYi9jb25zdGFudHNcIjtcbmltcG9ydCB7IE5vRmFsbGJhY2tFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9uby1mYWxsYmFjay1lcnJvci5leHRlcm5hbFwiO1xuaW1wb3J0IHsgQ2FjaGVkUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVzcG9uc2UtY2FjaGVcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvdGFkbWl0aW50ZXJhY3RpdmUvY2FyYm90bmV4dC9hcHAvYXBpL3N1cHBsaWVyL29mZmVycy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc3VwcGxpZXIvb2ZmZXJzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3VwcGxpZXIvb2ZmZXJzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9zdXBwbGllci9vZmZlcnMvcm91dGVcIlxuICAgIH0sXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHJlbGF0aXZlUHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3RhZG1pdGludGVyYWN0aXZlL2NhcmJvdG5leHQvYXBwL2FwaS9zdXBwbGllci9vZmZlcnMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgdmFyIF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbDtcbiAgICBsZXQgc3JjUGFnZSA9IFwiL2FwaS9zdXBwbGllci9vZmZlcnMvcm91dGVcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlLFxuICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGVcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgYnVpbGRJZCwgcGFyYW1zLCBuZXh0Q29uZmlnLCBpc0RyYWZ0TW9kZSwgcHJlcmVuZGVyTWFuaWZlc3QsIHJvdXRlclNlcnZlckNvbnRleHQsIGlzT25EZW1hbmRSZXZhbGlkYXRlLCByZXZhbGlkYXRlT25seUdlbmVyYXRlZCwgcmVzb2x2ZWRQYXRobmFtZSB9ID0gcHJlcGFyZVJlc3VsdDtcbiAgICBjb25zdCBub3JtYWxpemVkU3JjUGFnZSA9IG5vcm1hbGl6ZUFwcFBhdGgoc3JjUGFnZSk7XG4gICAgbGV0IGlzSXNyID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXSB8fCBwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgIGlmIChpc0lzciAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY29uc3QgaXNQcmVyZW5kZXJlZCA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICAgICAgY29uc3QgcHJlcmVuZGVySW5mbyA9IHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdO1xuICAgICAgICBpZiAocHJlcmVuZGVySW5mbykge1xuICAgICAgICAgICAgaWYgKHByZXJlbmRlckluZm8uZmFsbGJhY2sgPT09IGZhbHNlICYmICFpc1ByZXJlbmRlcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vRmFsbGJhY2tFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBjYWNoZUtleSA9IG51bGw7XG4gICAgaWYgKGlzSXNyICYmICFyb3V0ZU1vZHVsZS5pc0RldiAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY2FjaGVLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgICAgICAvLyBlbnN1cmUgL2luZGV4IGFuZCAvIGlzIG5vcm1hbGl6ZWQgdG8gb25lIGtleVxuICAgICAgICBjYWNoZUtleSA9IGNhY2hlS2V5ID09PSAnL2luZGV4JyA/ICcvJyA6IGNhY2hlS2V5O1xuICAgIH1cbiAgICBjb25zdCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSA9IC8vIElmIHdlJ3JlIGluIGRldmVsb3BtZW50LCB3ZSBhbHdheXMgc3VwcG9ydCBkeW5hbWljIEhUTUxcbiAgICByb3V0ZU1vZHVsZS5pc0RldiA9PT0gdHJ1ZSB8fCAvLyBJZiB0aGlzIGlzIG5vdCBTU0cgb3IgZG9lcyBub3QgaGF2ZSBzdGF0aWMgcGF0aHMsIHRoZW4gaXQgc3VwcG9ydHNcbiAgICAvLyBkeW5hbWljIEhUTUwuXG4gICAgIWlzSXNyO1xuICAgIC8vIFRoaXMgaXMgYSByZXZhbGlkYXRpb24gcmVxdWVzdCBpZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWNcbiAgICAvLyBwYWdlIGFuZCBpdCBpcyBub3QgYmVpbmcgcmVzdW1lZCBmcm9tIGEgcG9zdHBvbmVkIHJlbmRlciBhbmRcbiAgICAvLyBpdCBpcyBub3QgYSBkeW5hbWljIFJTQyByZXF1ZXN0IHRoZW4gaXQgaXMgYSByZXZhbGlkYXRpb25cbiAgICAvLyByZXF1ZXN0LlxuICAgIGNvbnN0IGlzUmV2YWxpZGF0ZSA9IGlzSXNyICYmICFzdXBwb3J0c0R5bmFtaWNSZXNwb25zZTtcbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAgICAgZXhwZXJpbWVudGFsOiB7XG4gICAgICAgICAgICAgICAgY2FjaGVDb21wb25lbnRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmNhY2hlQ29tcG9uZW50cyksXG4gICAgICAgICAgICAgICAgYXV0aEludGVycnVwdHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuYXV0aEludGVycnVwdHMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UsXG4gICAgICAgICAgICBpbmNyZW1lbnRhbENhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdpbmNyZW1lbnRhbENhY2hlJyksXG4gICAgICAgICAgICBjYWNoZUxpZmVQcm9maWxlczogKF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbCA9IG5leHRDb25maWcuZXhwZXJpbWVudGFsKSA9PSBudWxsID8gdm9pZCAwIDogX25leHRDb25maWdfZXhwZXJpbWVudGFsLmNhY2hlTGlmZSxcbiAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbCxcbiAgICAgICAgICAgIG9uQ2xvc2U6IChjYik9PntcbiAgICAgICAgICAgICAgICByZXMub24oJ2Nsb3NlJywgY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWZ0ZXJUYXNrRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9uSW5zdHJ1bWVudGF0aW9uUmVxdWVzdEVycm9yOiAoZXJyb3IsIF9yZXF1ZXN0LCBlcnJvckNvbnRleHQpPT5yb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVycm9yLCBlcnJvckNvbnRleHQsIHJvdXRlclNlcnZlckNvbnRleHQpXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgIGJ1aWxkSWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9kZU5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgY29uc3Qgbm9kZU5leHRSZXMgPSBuZXcgTm9kZU5leHRSZXNwb25zZShyZXMpO1xuICAgIGNvbnN0IG5leHRSZXEgPSBOZXh0UmVxdWVzdEFkYXB0ZXIuZnJvbU5vZGVOZXh0UmVxdWVzdChub2RlTmV4dFJlcSwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZShyZXMpKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnZva2VSb3V0ZU1vZHVsZSA9IGFzeW5jIChzcGFuKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlTW9kdWxlLmhhbmRsZShuZXh0UmVxLCBjb250ZXh0KS5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFzcGFuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHAuc3RhdHVzX2NvZGUnOiByZXMuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgJ25leHQucnNjJzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByb290U3BhbkF0dHJpYnV0ZXMgPSB0cmFjZXIuZ2V0Um9vdFNwYW5BdHRyaWJ1dGVzKCk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGF0dHJpYnV0ZXMsIHByb2JhYmx5IE9URUwgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RTcGFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpICE9PSBCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCByb290IHNwYW4gdHlwZSAnJHtyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpfScuIFBsZWFzZSByZXBvcnQgdGhpcyBOZXh0LmpzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qc2ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5yb3V0ZScpO1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7bWV0aG9kfSAke3JvdXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnNwYW5fbmFtZSc6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUoYCR7bWV0aG9kfSAke3JlcS51cmx9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKGN1cnJlbnRTcGFuKT0+e1xuICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VHZW5lcmF0b3IgPSBhc3luYyAoeyBwcmV2aW91c0NhY2hlRW50cnkgfSk9PntcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQgJiYgIXByZXZpb3VzQ2FjaGVFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBhbHdheXMgc2V0cyB0aGlzIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCAnUkVWQUxJREFURUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoY3VycmVudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICByZXEuZmV0Y2hNZXRyaWNzID0gY29udGV4dC5yZW5kZXJPcHRzLmZldGNoTWV0cmljcztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBlbmRpbmdXYWl0VW50aWwgPSBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB1c2luZyBwcm92aWRlZCB3YWl0VW50aWwgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IHdlIGZhbGxiYWNrIHRvIHNlbmRSZXNwb25zZSdzIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nV2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3R4LndhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC53YWl0VW50aWwocGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dhaXRVbnRpbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZVRhZ3MgPSBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkVGFncztcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljIHJlc3BvbnNlLCB3ZSBjYW4gY2FjaGUgaXQgc28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBpdCdzIG5vdCBlZGdlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJc3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBoZWFkZXJzIGZyb20gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVUYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXSA9IGNhY2hlVGFncztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZGVyc1snY29udGVudC10eXBlJ10gJiYgYmxvYi50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBibG9iLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZhbGlkYXRlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA+PSBJTkZJTklURV9DQUNIRSA/IGZhbHNlIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBpcmUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA+PSBJTkZJTklURV9DQUNIRSA/IHVuZGVmaW5lZCA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNhY2hlIGVudHJ5IGZvciB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBCdWZmZXIuZnJvbShhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZUVudHJ5O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VuZCByZXNwb25zZSB3aXRob3V0IGNhY2hpbmcgaWYgbm90IElTUlxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgcmVzcG9uc2UsIGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBiYWNrZ3JvdW5kIHJldmFsaWRhdGUgd2UgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgZXJyb3IgaGVyZSBhcyBpdCB3b24ndCBiZSBidWJibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzQ2FjaGVFbnRyeS5pc1N0YWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJvdXRlclNlcnZlckNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IGF3YWl0IHJvdXRlTW9kdWxlLmhhbmRsZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICBjYWNoZUtleSxcbiAgICAgICAgICAgICAgICByb3V0ZUtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgaXNGYWxsYmFjazogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgaXNSb3V0ZVBQUkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yLFxuICAgICAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjcmVhdGUgYSBjYWNoZUVudHJ5IGZvciBJU1JcbiAgICAgICAgICAgIGlmICghaXNJc3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoY2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlLmtpbmQpICE9PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlMTtcbiAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQ6IGFwcC1yb3V0ZSByZWNlaXZlZCBpbnZhbGlkIGNhY2hlIGVudHJ5ICR7Y2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlMSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU3MDFcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCBpc09uRGVtYW5kUmV2YWxpZGF0ZSA/ICdSRVZBTElEQVRFRCcgOiBjYWNoZUVudHJ5LmlzTWlzcyA/ICdNSVNTJyA6IGNhY2hlRW50cnkuaXNTdGFsZSA/ICdTVEFMRScgOiAnSElUJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEcmFmdCBtb2RlIHNob3VsZCBuZXZlciBiZSBjYWNoZWRcbiAgICAgICAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAncHJpdmF0ZSwgbm8tY2FjaGUsIG5vLXN0b3JlLCBtYXgtYWdlPTAsIG11c3QtcmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhjYWNoZUVudHJ5LnZhbHVlLmhlYWRlcnMpO1xuICAgICAgICAgICAgaWYgKCEoZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc0lzcikpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmRlbGV0ZShORVhUX0NBQ0hFX1RBR1NfSEVBREVSKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGNhY2hlIGNvbnRyb2wgaXMgYWxyZWFkeSBzZXQgb24gdGhlIHJlc3BvbnNlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBvdmVycmlkZSBpdCB0byBhbGxvdyB1c2VycyB0byBjdXN0b21pemUgaXQgdmlhIG5leHQuY29uZmlnXG4gICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wgJiYgIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSAmJiAhaGVhZGVycy5nZXQoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdDYWNoZS1Db250cm9sJywgZ2V0Q2FjaGVDb250cm9sSGVhZGVyKGNhY2hlRW50cnkuY2FjaGVDb250cm9sKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UoY2FjaGVFbnRyeS52YWx1ZS5ib2R5LCB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNhY2hlRW50cnkudmFsdWUuc3RhdHVzIHx8IDIwMFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRPRE86IGFjdGl2ZVNwYW4gY29kZSBwYXRoIGlzIGZvciB3aGVuIHdyYXBwZWQgYnlcbiAgICAgICAgLy8gbmV4dC1zZXJ2ZXIgY2FuIGJlIHJlbW92ZWQgd2hlbiB0aGlzIGlzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgIGlmIChhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShhY3RpdmVTcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3JlcS51cmx9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmICghKGVyciBpbnN0YW5jZW9mIE5vRmFsbGJhY2tFcnJvcikpIHtcbiAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogbm9ybWFsaXplZFNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldGhyb3cgc28gdGhhdCB3ZSBjYW4gaGFuZGxlIHNlcnZpbmcgZXJyb3IgcGFnZVxuICAgICAgICAvLyBJZiB0aGlzIGlzIGR1cmluZyBzdGF0aWMgZ2VuZXJhdGlvbiwgdGhyb3cgdGhlIGVycm9yIGFnYWluLlxuICAgICAgICBpZiAoaXNJc3IpIHRocm93IGVycjtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBzZW5kIGEgNTAwIHJlc3BvbnNlLlxuICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICAgICAgc3RhdHVzOiA1MDBcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsupplier%2Foffers%2Froute&page=%2Fapi%2Fsupplier%2Foffers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsupplier%2Foffers%2Froute.ts&appDir=%2FUsers%2Ftadmitinteractive%2Fcarbotnext%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftadmitinteractive%2Fcarbotnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/bcryptjs","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/uuid","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsupplier%2Foffers%2Froute&page=%2Fapi%2Fsupplier%2Foffers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsupplier%2Foffers%2Froute.ts&appDir=%2FUsers%2Ftadmitinteractive%2Fcarbotnext%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftadmitinteractive%2Fcarbotnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();